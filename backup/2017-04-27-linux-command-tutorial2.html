<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="linux命令学习笔记2 文件及目录管理"><meta name="keywords" content><meta name="author" content="SizheRee"><meta name="copyright" content="SizheRee"><title>linux命令学习笔记2 文件及目录管理 | Hexo</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><link rel="dns-prefetch" href="https://unpkg.com"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitment/style/default.min.css"><script src="https://cdn.jsdelivr.net/npm/gitment/dist/gitment.browser.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">SizheRee</div><div class="author-info__description text-center"></div><div class="follow-button"><a href="https://github.com/SizheRee">Github</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">2</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">1</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">2</span></a></div></div></div><nav id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Hexo</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="site-info"><div id="site-title">Hexo</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><article id="page"><h1>linux命令学习笔记2 文件及目录管理</h1><div class="article-container"><h1 id="第二章-文件及目录管理"><a href="#第二章-文件及目录管理" class="headerlink" title="第二章 文件及目录管理"></a>第二章 文件及目录管理</h1><h2 id="2-0-概述"><a href="#2-0-概述" class="headerlink" title="2.0 概述"></a>2.0 概述</h2><p>文件管理不外乎文件或目录的创建,删除，查询，移动。有<code>mkdir/rm/mv</code>。<br>文件查询是重点，用<code>find</code>来进行查询；<code>find</code>参数丰富，非常强大。<br>查看文件内容是个大的话题，文本的处理有很多工具供我们使用。在本章中只是点到即止。<br>有时候我们需要给文件备份，或者创建一个别名，我们需要用到<code>ln</code>。</p>
<h2 id="2-1-创建和删除"><a href="#2-1-创建和删除" class="headerlink" title="2.1 创建和删除"></a>2.1 创建和删除</h2><ul>
<li>目录的创建<pre><code>$ mkdir dir</code></pre></li>
<li>目录的删除(只能删除空目录)<pre><code>$ rmdir dir</code></pre></li>
<li>删除非空目录(如果去掉f参数每个删除都会提示y/n)<pre><code>$ rm -rf file 目录</code></pre></li>
<li>删除日志<pre><code>$ rm *log
(等价： $ find ./ -name &quot;*log&quot; -exec rm {} \;)</code></pre></li>
<li>移动或重命名<pre><code>$ mv source_dir dest_dir</code></pre></li>
<li>复制<pre><code>$ cp -r source_dir dest_dir</code></pre></li>
</ul>
<h2 id="2-2-目录切换"><a href="#2-2-目录切换" class="headerlink" title="2.2 目录切换"></a>2.2 目录切换</h2><ul>
<li>切换目录<pre><code>$ cd destination</code></pre></li>
<li>切换到上一个工作目录<pre><code>$ cd -</code></pre></li>
<li>切换到home目录<pre><code>$ cd or cd ~</code></pre></li>
<li>显示当前路径<pre><code>$ pwd</code></pre></li>
<li>更改当前工作路径为 path<pre><code>cd path</code></pre></li>
</ul>
<h2 id="2-3-列出目录项"><a href="#2-3-列出目录项" class="headerlink" title="2.3 列出目录项"></a>2.3 列出目录项</h2><ul>
<li>显示当前目录下的文件<pre><code>$ ls</code></pre></li>
<li>按时间排序，以列表的方式显示目录项<pre><code>$ ls -lrt</code></pre></li>
<li>显示索引，显示全部文件，以列表显示，以文件大小排序<pre><code>$ ls -sail</code></pre></li>
</ul>
<blockquote>
<p>在.bashrc中设置命令别名<br>alias lsl=’ls -lrt’<br>alisa lm=’ls -a|more’<br>这样使用lsl，就可以显示按照修改时间排序，以列表显示<br>给每项文件前面增加一个id编号<br>ls | cat -n</p>
</blockquote>
<h2 id="2-4-查找目录及文件"><a href="#2-4-查找目录及文件" class="headerlink" title="2.4 查找目录及文件"></a>2.4 查找目录及文件</h2><ul>
<li>在此我们将使用强大的<code>find</code>命令和<code>locate</code>命令</li>
<li>搜寻文件或目录(xargs 命令解释文件)<pre><code>$ find ./ -name &quot;python*&quot; | xargs file</code></pre></li>
<li>注意到 <code>-name</code> 参数后面可跟一个正则表达式字符串。<pre><code>$ find ./ -name &quot;task[12345].c&quot;</code></pre></li>
<li>配合 <code>-exec</code> 参数产生强大的效果，比如删除所有c文件<pre><code>$ find ./ -name &quot;*.c&quot; -exec rm {} \;</code></pre></li>
<li>find是实时查找，如果需要更快的查询，可以试试<code>locate</code><pre><code>$ locate python</code></pre></li>
<li>locate会为文件系统建立索引数据库，如果有文件更新，需要定期执行更新命令来更新索引库<pre><code>$updatedb</code></pre></li>
</ul>
<h2 id="2-5-查看文件内容"><a href="#2-5-查看文件内容" class="headerlink" title="2.5 查看文件内容"></a>2.5 查看文件内容</h2><ul>
<li>查看文件命令： cat vi head tail more</li>
<li>显示时同时显示行号<pre><code>$ cat -n</code></pre></li>
<li>按页显示列表内容<pre><code>$ ls -al| more</code></pre></li>
<li>只看前10行<pre><code>$ head -10 file</code></pre></li>
<li>显示文件的第一行<pre><code>$ head -1 file</code></pre></li>
<li>显示文件倒数第五行<pre><code>$ tail -5 file</code></pre></li>
<li>查看两个文件之间的区别<pre><code>$ diff file1 file2</code></pre></li>
<li>动态显示文本最新信息<pre><code>$ tail -f file.log</code></pre></li>
</ul>
<h2 id="2-6-查找文件内容"><a href="#2-6-查找文件内容" class="headerlink" title="2.6 查找文件内容"></a>2.6 查找文件内容</h2><ul>
<li>使用<code>egrep</code>查询文件内容<pre><code>$ egrep &apos;expression&apos; file</code></pre></li>
</ul>
<p>2.7 文件于目录权限修改</p>
<ul>
<li>改变文件的拥有者 chown<pre><code>$ sudo chown user file</code></pre></li>
<li>改变文件读，写，执行等属性 <pre><code>$ chmod +rwx file</code></pre></li>
<li>递归子目录修改<pre><code>$ chmod -R dir/</code></pre></li>
<li>增加脚本可执行权限<pre><code>$ chmod a+x script</code></pre></li>
</ul>
<h2 id="2-8-给文件增加别名"><a href="#2-8-给文件增加别名" class="headerlink" title="2.8 给文件增加别名"></a>2.8 给文件增加别名</h2><ul>
<li>创建硬链接,硬链接保存了指向源文件的位置和信息也保存了源文件的数据,引用硬链接相当于引用源文件<pre><code>$ cp -l source link
$ ln source link</code></pre></li>
<li>创建软链接，软链接只保存了源文件的位置和信息<pre><code>$ cp -s source link
   $ link -s source link</code></pre></li>
</ul>
<h2 id="2-9-管道和重定向"><a href="#2-9-管道和重定向" class="headerlink" title="2.9 管道和重定向"></a>2.9 管道和重定向</h2><ul>
<li>批处理命令连接执行，使用|，下一个命令的参数是上一个命令的返回结果<pre><code>$ cat file | grep &quot;python&quot;</code></pre></li>
<li>串联使用命令：使用分号<pre><code>$ ls ; cd</code></pre></li>
<li>如果前面执行的命令成功，则执行后面一条，否则则不执行<pre><code>$ cmd1 &amp;&amp; cmd2</code></pre></li>
<li>前面成功则执行命令1，失败则执行命令2<pre><code>$ cmd &amp;&amp; cmd1 || cmd 2</code></pre></li>
</ul>
<hr>
<ul>
<li><p>重定向</p>
<blockquote>
<p>有时候你想要把一个命令的输出信息保存在一个文件里而不是在显示器上显示它，你就会用到重定向。重定向可以把一个文件用到某个命令的输出上，也可以用在输出上。</p>
</blockquote>
<pre><code>$ cmd &gt; outputfile
$ date &gt; output.log</code></pre></li>
<li><p>清空文件</p>
<pre><code>$ &gt; file</code></pre></li>
<li><p>如果要在文件后面追加内容而不删除原来的内容，可以使用</p>
<pre><code>$ cmd &gt;&gt; file</code></pre></li>
</ul>
<hr>
<ul>
<li><p>输入重定向</p>
<blockquote>
<p>输入重定向将文件的内容定向到命令。</p>
</blockquote>
<pre><code>$ cmd &lt; inputfile
$ wc &lt; inputfile</code></pre><blockquote>
<p>wc 命令提供了对文本中的行数次数和字节数的计数</p>
</blockquote>
</li>
<li><p>内联输入重定向</p>
<blockquote>
<p>你会在命令行中输入数据直到输入EOF这个制定的关键字</p>
</blockquote>
<pre><code>$ wc &lt;&lt; EOF</code></pre></li>
</ul>
<h2 id="2-10-设置环境变量"><a href="#2-10-设置环境变量" class="headerlink" title="2.10 设置环境变量"></a>2.10 设置环境变量</h2><blockquote>
<p>启动帐号后自动执行的文件是<code>.profile</code>，通过这个文件可以设置自己的环境变量<br>安装的软件路径一般都要加入到path中</p>
</blockquote>
<h2 id="2-11-bash快捷输入或删除"><a href="#2-11-bash快捷输入或删除" class="headerlink" title="2.11 bash快捷输入或删除"></a>2.11 bash快捷输入或删除</h2><blockquote>
<p>快捷键Ctl-U   删除光标到行首的所有字符,在某些设置下,删除全行<br>Ctl-W   删除当前光标到前边的最近一个空格之间的字符<br>Ctl-H   backspace,删除光标前边的字符<br>Ctl-R   匹配最相近的一个文件，然后输<br>Ctl-U   删除光标到行首的所有字符,在某些设置下,删除全行</p>
</blockquote>
<pre><code>综合应用:查找record.log中包含AAA，但不包含BBB的记录的总数
cat -v revord.log|grep AAA|grep -v BBB|wc -l</code></pre></div></article><nav id="pagination"><div class="pagination"></div></nav><div id="gitment-container"></div><script>var gitment = new Gitment({
  id: md5(decodeURI(location.pathname)),
  owner: 'SizheRee',
  repo: 'sizheree.github.io',
  oauth: {
    client_id: '283805975f91ba7e56c7',
    client_secret: '4958d7378aa5642a6b6fbd491315503e14da6968'
  }
})
gitment.render('gitment-container')</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2019 By SizheRee</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>